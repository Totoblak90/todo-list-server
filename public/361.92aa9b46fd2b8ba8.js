"use strict";(self.webpackChunktodo_list=self.webpackChunktodo_list||[]).push([[361],{7361:(S,u,n)=>{n.r(u),n.d(u,{RegisterModule:()=>C});var g=n(6019),l=n(1509),i=n(7537),p=n(273),c=n(6263),v=n(5591),e=n(3556),f=n(6636);function h(t,s){1&t&&(e.TgZ(0,"div",19),e._uU(1," This field is required "),e.qZA())}function Z(t,s){1&t&&(e.TgZ(0,"div",19),e._uU(1," Format is invalid "),e.qZA())}function w(t,s){1&t&&(e.TgZ(0,"div",19),e._uU(1," This field is required "),e.qZA())}function T(t,s){1&t&&(e.TgZ(0,"li"),e._uU(1," Password must be at have at least 8 characters "),e.qZA())}function R(t,s){1&t&&(e.TgZ(0,"li"),e._uU(1," Password must be at have at least 1 number "),e.qZA())}function _(t,s){1&t&&(e.TgZ(0,"li"),e._uU(1," Password must be at have at least 1 lowercase letter "),e.qZA())}function F(t,s){1&t&&(e.TgZ(0,"li"),e._uU(1," Password must be at have at least 1 uppercase letter "),e.qZA())}function A(t,s){1&t&&(e.TgZ(0,"li"),e._uU(1," Password must be at have at least 1 of the following symbols *._%+- "),e.qZA())}function U(t,s){1&t&&(e.TgZ(0,"div",19),e._uU(1," This field is required "),e.qZA())}function b(t,s){1&t&&(e.TgZ(0,"div",19),e._uU(1," Passwords must match exactly "),e.qZA())}const q=[{path:"",component:(()=>{class t{constructor(o,r,a){this.fb=o,this.authService=r,this.router=a,this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",this.destroy$=new p.x,this.createForm()}createForm(){this.registerForm=this.fb.group({email:["",[i.kI.required,i.kI.pattern(this.emailPattern)]],password:["",[i.kI.required]],passwordRepeat:[""]},{validators:[this.validateStrongPassword,this.passwordMatch]})}loginRegisteredUser(o){const r=new v.n(null==o?void 0:o.id,null==o?void 0:o.email,null==o?void 0:o.created_at,null==o?void 0:o.updated_at,[],[]);this.authService.setUser(r),this.authService.getUser()&&this.router.navigateByUrl("/dashboard")}validateStrongPassword(o){const r=o.get("password");/\d/.test(r.value)?/[a-z]/.test(r.value)?/[A-Z]/.test(r.value)?/[*._%+-]/.test(r.value)?r.value.length<8&&r.setErrors({minlength:!0}):r.setErrors({notSymbols:!0}):r.setErrors({noUppercase:!0}):r.setErrors({noLowercase:!0}):r.setErrors({notDigits:!0})}showStrongPasswordErrorMsgs(){var o,r,a,d,m;return this.registerForm.controls.password.touched&&((null===(o=this.registerForm.controls.password.errors)||void 0===o?void 0:o.notDigits)||(null===(r=this.registerForm.controls.password.errors)||void 0===r?void 0:r.noLowercase)||(null===(a=this.registerForm.controls.password.errors)||void 0===a?void 0:a.noUppercase)||(null===(d=this.registerForm.controls.password.errors)||void 0===d?void 0:d.notSymbols)||(null===(m=this.registerForm.controls.password.errors)||void 0===m?void 0:m.minlength))}passwordMatch(o){const r=o.get("password"),a=o.get("passwordRepeat");r.value!==a.value&&a.setErrors({notMatch:!0})}register(){this.registerForm.markAllAsTouched(),this.registerForm.valid&&this.authService.register(this.registerForm.value).pipe((0,c.R)(this.destroy$)).subscribe({next:o=>{var r;return this.loginRegisteredUser(null===(r=null==o?void 0:o.data)||void 0===r?void 0:r.user)},error:o=>console.log(o)})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(i.qu),e.Y36(f.e),e.Y36(l.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],decls:39,vars:11,consts:[[1,"card","animate__animated","animate__fadeIn","animate__faster"],[1,"card-header"],[1,"text-center"],[3,"formGroup","ngSubmit"],[1,"card-body"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label"],["type","email","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","email",1,"form-control"],["id","emailHelp",1,"form-text"],["class","form-text text-danger",4,"ngIf"],["for","exampleInputPassword1",1,"form-label"],["type","password","id","exampleInputPassword1","formControlName","password",1,"form-control"],[1,"form-text","text-danger","list-unstyled"],[4,"ngIf"],["type","password","id","exampleInputPassword1","formControlName","passwordRepeat",1,"form-control"],[1,"card-footer","text-center"],["type","submit",1,"btn","btn-primary"],[1,"form-text","mb-0"],["routerLink","/login"],[1,"form-text","text-danger"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h3",2),e._uU(3,"Register"),e.qZA(),e.qZA(),e.TgZ(4,"form",3),e.NdJ("ngSubmit",function(){return r.register()}),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"label",6),e._uU(8,"Email address"),e.qZA(),e._UZ(9,"input",7),e.TgZ(10,"div",8),e._uU(11," We'll never share your email with anyone else. "),e.qZA(),e.YNc(12,h,2,0,"div",9),e.YNc(13,Z,2,0,"div",9),e.qZA(),e.TgZ(14,"div",5),e.TgZ(15,"label",10),e._uU(16,"Password"),e.qZA(),e._UZ(17,"input",11),e.YNc(18,w,2,0,"div",9),e.TgZ(19,"div"),e.TgZ(20,"ul",12),e.YNc(21,T,2,0,"li",13),e.YNc(22,R,2,0,"li",13),e.YNc(23,_,2,0,"li",13),e.YNc(24,F,2,0,"li",13),e.YNc(25,A,2,0,"li",13),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",5),e.TgZ(27,"label",10),e._uU(28,"Confirm Password"),e.qZA(),e._UZ(29,"input",14),e.YNc(30,U,2,0,"div",9),e.YNc(31,b,2,0,"div",9),e.qZA(),e.qZA(),e.TgZ(32,"div",15),e.TgZ(33,"button",16),e._uU(34,"Submit"),e.qZA(),e.TgZ(35,"p",17),e._uU(36," Have an account? "),e.TgZ(37,"a",18),e._uU(38," Sign in"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(4),e.Q6J("formGroup",r.registerForm),e.xp6(8),e.Q6J("ngIf",(null==r.registerForm.controls.email.errors?null:r.registerForm.controls.email.errors.required)&&r.registerForm.controls.email.touched),e.xp6(1),e.Q6J("ngIf",(null==r.registerForm.controls.email.errors?null:r.registerForm.controls.email.errors.pattern)&&r.registerForm.controls.email.touched),e.xp6(5),e.Q6J("ngIf",(null==r.registerForm.controls.password.errors?null:r.registerForm.controls.password.errors.required)&&r.registerForm.controls.password.touched),e.xp6(3),e.Q6J("ngIf",r.showStrongPasswordErrorMsgs()),e.xp6(1),e.Q6J("ngIf",r.showStrongPasswordErrorMsgs()),e.xp6(1),e.Q6J("ngIf",r.showStrongPasswordErrorMsgs()),e.xp6(1),e.Q6J("ngIf",r.showStrongPasswordErrorMsgs()),e.xp6(1),e.Q6J("ngIf",r.showStrongPasswordErrorMsgs()),e.xp6(5),e.Q6J("ngIf",(null==r.registerForm.controls.passwordRepeat.errors?null:r.registerForm.controls.passwordRepeat.errors.required)&&!r.registerForm.controls.passwordRepeat.pristine),e.xp6(1),e.Q6J("ngIf",(null==r.registerForm.controls.passwordRepeat.errors?null:r.registerForm.controls.passwordRepeat.errors.notMatch)&&r.registerForm.controls.passwordRepeat.touched))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,g.O5,l.yS],styles:[""]}),t})()}];let y=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[l.Bz.forChild(q)],l.Bz]}),t})(),C=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[g.ez,y,i.UX,l.Bz]]}),t})()}}]);