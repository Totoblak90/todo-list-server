"use strict";(self.webpackChunktodo_list=self.webpackChunktodo_list||[]).push([[886],{4886:(P,g,u)=>{u.r(g),u.d(g,{DashboardModule:()=>L});var _=u(6019),v=u(1509);function C(r,a,t,n,o,s,i){try{var d=r[s](i),l=d.value}catch(j){return void t(j)}d.done?a(l):Promise.resolve(l).then(n,o)}function x(r){return function(){var a=this,t=arguments;return new Promise(function(n,o){var s=r.apply(a,t);function i(l){C(s,n,o,i,d,"next",l)}function d(l){C(s,n,o,i,d,"throw",l)}i(void 0)})}}var h=u(5591),b=u(273),p=u(6263),c=u(3405),w=u(1659),T=u.n(w),e=u(3556),Z=u(6636),m=u(8260),F=u(4522);let y=(()=>{class r{constructor(t){this.httpClient=t,this._baseUrl=m.N.API_BASE_URL}createFolder(t){return this.httpClient.post(`${this._baseUrl}/folders/create`,t)}editFolder(t,n){return this.httpClient.put(`${this._baseUrl}/folders/edit/${t}`,n)}deleteFolder(t){return this.httpClient.delete(`${this._baseUrl}/folders/delete/${t}`)}deleteFolderWithTasks(t){return this.httpClient.delete(`${this._baseUrl}/folders/delete-with-tasks/${t}`)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(F.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),k=(()=>{class r{constructor(t){this.httpClient=t}listTodos(t,n){return this.httpClient.get(`${m.N.API_BASE_URL}/todos/${t}/${n}`)}createTodo(t,n,o){return this.httpClient.post(`${m.N.API_BASE_URL}/todos/create/${t}/${n}`,o)}editTodo(t,n){return this.httpClient.put(`${m.N.API_BASE_URL}/todos/edit/${t}`,n)}deleteTodo(t){return this.httpClient.delete(`${m.N.API_BASE_URL}/todos/delete/${t}`)}bulkDeleteTodosFromSelectedFolder(t){return this.httpClient.delete(`${m.N.API_BASE_URL}/todos/bulk-delete/${t}`)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(F.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function A(r,a){1&r&&(e.TgZ(0,"div",9),e._uU(1," Name must exist and have at least 3 characters. "),e.qZA())}let N=(()=>{class r{constructor(){this.onCreateFolder=new e.vpe,this.showCreateFolderErrorMsg=!1}ngOnInit(){}userWantsToCreateFolder(t){this.showCreateFolderErrorMsg=!1,t&&t.length>=3?this.onCreateFolder.emit(t):this.showCreateFolderErrorMsg=!0}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-no-folders"]],inputs:{user:"user"},outputs:{onCreateFolder:"onCreateFolder"},decls:12,vars:1,consts:[[1,"card","animate__animated","animate__fadeIn","animate__faster"],[1,"card-body"],[1,"card-footer"],[1,"input-group","mb-3"],["type","text","placeholder","Folder name","aria-label","Folder name","aria-describedby","button-addon2",1,"form-control",3,"keyup.enter"],["createFolderInput",""],["type","submit","id","button-addon2",1,"btn","btn-outline-success",3,"click"],["submitFolderButton",""],["class","form-text text-danger",4,"ngIf"],[1,"form-text","text-danger"]],template:function(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"p"),e._uU(3,"Create your first folder and start organizing your time!"),e.qZA(),e.qZA(),e.TgZ(4,"div",2),e.TgZ(5,"div",3),e.TgZ(6,"input",4,5),e.NdJ("keyup.enter",function(){return e.CHM(o),e.MAs(9).click()}),e.qZA(),e.TgZ(8,"button",6,7),e.NdJ("click",function(){e.CHM(o);const i=e.MAs(7);return n.userWantsToCreateFolder(i.value)}),e._uU(10," Create "),e.qZA(),e.qZA(),e.YNc(11,A,2,0,"div",8),e.qZA(),e.qZA()}2&t&&(e.xp6(11),e.Q6J("ngIf",n.showCreateFolderErrorMsg))},directives:[_.O5],styles:[""]}),r})();function E(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"li"),e.TgZ(1,"div",11),e.TgZ(2,"div",12),e.TgZ(3,"i",13),e._uU(4),e.qZA(),e.TgZ(5,"i",14),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().userWantsToViewTasks(s.id)}),e._uU(6,"View items"),e.qZA(),e.TgZ(7,"i",15),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().userWantsToEditFolder(s.id,s.name)}),e._uU(8,"Edit"),e.qZA(),e.TgZ(9,"i",16),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().userWantsToDeleteFolder(s.id)}),e._uU(10,"Delete"),e.qZA(),e.qZA(),e.qZA(),e._UZ(11,"hr"),e.qZA()}if(2&r){const t=a.$implicit;e.xp6(4),e.Oqu(t.name)}}function M(r,a){1&r&&(e.TgZ(0,"div",17),e._uU(1," Name must exist and have at least 3 characters. "),e.qZA())}let I=(()=>{class r{constructor(){this.onViewMoreItems=new e.vpe,this.onCreateFolder=new e.vpe,this.onEditFolder=new e.vpe,this.onDeleteFolder=new e.vpe,this.showCreateFolderErrorMsg=!1}ngOnInit(){}userWantsToEditFolder(t,n){this.onEditFolder.emit([t,n])}userWantsToViewTasks(t){this.onViewMoreItems.emit(t)}userWantsToCreateFolder(t){this.showCreateFolderErrorMsg=!1,t&&t.length>=3?this.onCreateFolder.emit(t):this.showCreateFolderErrorMsg=!0}userWantsToDeleteFolder(t){this.onDeleteFolder.emit(t)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-folders"]],inputs:{user:"user"},outputs:{onViewMoreItems:"onViewMoreItems",onCreateFolder:"onCreateFolder",onEditFolder:"onEditFolder",onDeleteFolder:"onDeleteFolder"},decls:12,vars:2,consts:[[1,"card","animate__animated","animate__fadeIn","animate__faster"],[1,"card-body"],[1,"list-unstyled"],[4,"ngFor","ngForOf"],[1,"card-footer"],[1,"input-group","mb-3"],["type","text","placeholder","Folder name","aria-label","Folder name","aria-describedby","button-addon2",1,"form-control",3,"keyup.enter"],["createFolderInput",""],["type","submit","id","button-addon2",1,"btn","btn-outline-success",3,"click"],["submitFolderButton",""],["class","form-text text-danger",4,"ngIf"],[1,"input-group","mb-3","w100"],[1,"w-100","d-flex","flex-row","justify-content-between"],[1,"bi","bi-archive","w-25"],[1,"bi","bi-eye","pointer","w-25",3,"click"],[1,"bi","bi-pencil-square","pointer","w-25",3,"click"],[1,"bi","bi-trash","text-danger","w-25","pointer",3,"click"],[1,"form-text","text-danger"]],template:function(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"ul",2),e.YNc(3,E,12,1,"li",3),e.qZA(),e.qZA(),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"input",6,7),e.NdJ("keyup.enter",function(){return e.CHM(o),e.MAs(9).click()}),e.qZA(),e.TgZ(8,"button",8,9),e.NdJ("click",function(){e.CHM(o);const i=e.MAs(7);return n.userWantsToCreateFolder(i.value)}),e._uU(10," Create "),e.qZA(),e.qZA(),e.YNc(11,M,2,0,"div",10),e.qZA(),e.qZA()}2&t&&(e.xp6(3),e.Q6J("ngForOf",n.user.Folders),e.xp6(8),e.Q6J("ngIf",n.showCreateFolderErrorMsg))},directives:[_.sg,_.O5],styles:[""]}),r})();var f=u(7537);function D(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"li"),e.TgZ(1,"div",11),e.TgZ(2,"div",12),e.TgZ(3,"div"),e.TgZ(4,"input",13),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit.completed=o})("change",function(){const s=e.CHM(t).$implicit;return e.oxw().userWantsToEditTodoStatus(s.id,s.completed)}),e.qZA(),e.TgZ(5,"i",14),e._uU(6),e.qZA(),e.qZA(),e.TgZ(7,"i",15),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().userWantsToEditTodo(s.id,s.name)}),e._uU(8,"Edit"),e.qZA(),e.TgZ(9,"i",16),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().userWantsToDeleteTodo(s.id)}),e._uU(10,"Delete"),e.qZA(),e.qZA(),e.qZA(),e._UZ(11,"hr"),e.qZA()}if(2&r){const t=a.$implicit;e.xp6(1),e.ekj("completed",t.completed),e.xp6(3),e.Q6J("ngModel",t.completed),e.xp6(2),e.Oqu(t.name)}}function S(r,a){1&r&&(e.TgZ(0,"div",17),e._uU(1," Name must exist and have at least 3 characters. "),e.qZA())}let U=(()=>{class r{constructor(){this.todos=[],this.onCreateTodo=new e.vpe,this.onEditTodoName=new e.vpe,this.onEditTodoStatus=new e.vpe,this.onDeleteTodo=new e.vpe,this.showCreateTodoErrorMsg=!1,this.checkbox=!1}ngOnInit(){}userWantsToCreateTodo(t){this.showCreateTodoErrorMsg=!1,t&&t.length>3?this.onCreateTodo.emit(t):this.showCreateTodoErrorMsg=!0}userWantsToEditTodo(t,n){this.onEditTodoName.emit([t,n])}userWantsToEditTodoStatus(t,n){this.onEditTodoStatus.emit([t,n])}userWantsToDeleteTodo(t){this.onDeleteTodo.emit(t)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-tasks"]],inputs:{todos:"todos"},outputs:{onCreateTodo:"onCreateTodo",onEditTodoName:"onEditTodoName",onEditTodoStatus:"onEditTodoStatus",onDeleteTodo:"onDeleteTodo"},decls:12,vars:2,consts:[[1,"card","animate__animated","animate__fadeIn","animate__faster"],[1,"card-body"],[1,"list-unstyled"],[4,"ngFor","ngForOf"],[1,"card-footer"],[1,"input-group","mb-3"],["type","text","placeholder","Todo name","aria-label","Todo name","aria-describedby","button-addon2",1,"form-control",3,"keyup.enter"],["createTodoInput",""],["type","submit","id","button-addon2",1,"btn","btn-outline-success",3,"click"],["submitTodoButton",""],["class","form-text text-danger",4,"ngIf"],[1,"input-group","mb-3","w100"],[1,"w-100","d-flex","flex-row","justify-content-between"],["type","checkbox",3,"ngModel","ngModelChange","change"],[1,"bi","bi-list-task","w-25","ml-2"],[1,"bi","bi-pencil-square","pointer","w-25",3,"click"],[1,"bi","bi-trash","text-danger","w-25","pointer",3,"click"],[1,"form-text","text-danger"]],template:function(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"ul",2),e.YNc(3,D,12,4,"li",3),e.qZA(),e.qZA(),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"input",6,7),e.NdJ("keyup.enter",function(){return e.CHM(o),e.MAs(9).click()}),e.qZA(),e.TgZ(8,"button",8,9),e.NdJ("click",function(){e.CHM(o);const i=e.MAs(7);return n.userWantsToCreateTodo(i.value)}),e._uU(10," Create "),e.qZA(),e.qZA(),e.YNc(11,S,2,0,"div",10),e.qZA(),e.qZA()}2&t&&(e.xp6(3),e.Q6J("ngForOf",n.todos),e.xp6(8),e.Q6J("ngIf",n.showCreateTodoErrorMsg))},directives:[_.sg,_.O5,f.Wl,f.JJ,f.On],styles:[".completed[_ngcontent-%COMP%]{background-color:#6060eb66;color:#fff}"]}),r})();function q(r,a){1&r&&(e.TgZ(0,"div",9),e._uU(1," Name must exist and have at least 3 characters. "),e.qZA())}let $=(()=>{class r{constructor(){this.onCreateTodo=new e.vpe,this.showCreateTodoErrorMsg=!1}ngOnInit(){}userWantsToCreateTask(t){this.showCreateTodoErrorMsg=!1,t&&t.length>3?this.onCreateTodo.emit(t):this.showCreateTodoErrorMsg=!0}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-no-tasks"]],inputs:{user:"user"},outputs:{onCreateTodo:"onCreateTodo"},decls:12,vars:1,consts:[[1,"card","animate__animated","animate__fadeIn","animate__faster"],[1,"card-body"],[1,"card-footer"],[1,"input-group","mb-3"],["type","text","placeholder","Todo name","aria-label","Todo name","aria-describedby","button-addon2",1,"form-control",3,"keyup.enter"],["createTodoInput",""],["type","submit","id","button-addon2",1,"btn","btn-outline-success",3,"click"],["submitTodoButton",""],["class","form-text text-danger",4,"ngIf"],[1,"form-text","text-danger"]],template:function(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"p"),e._uU(3,"Create your first task!"),e.qZA(),e.qZA(),e.TgZ(4,"div",2),e.TgZ(5,"div",3),e.TgZ(6,"input",4,5),e.NdJ("keyup.enter",function(){return e.CHM(o),e.MAs(9).click()}),e.qZA(),e.TgZ(8,"button",6,7),e.NdJ("click",function(){e.CHM(o);const i=e.MAs(7);return n.userWantsToCreateTask(i.value)}),e._uU(10," Create "),e.qZA(),e.qZA(),e.YNc(11,q,2,0,"div",8),e.qZA(),e.qZA()}2&t&&(e.xp6(11),e.Q6J("ngIf",n.showCreateTodoErrorMsg))},directives:[_.O5],styles:[""]}),r})();function B(r,a){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-no-folders",4),e.NdJ("onCreateFolder",function(o){return e.CHM(t),e.oxw(2).createNewFolder(o)}),e.qZA(),e.BQk()}if(2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("user",t.user)}}function J(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"app-folders",5),e.NdJ("onEditFolder",function(o){return e.CHM(t),e.oxw(2).editFolder(o)})("onViewMoreItems",function(o){return e.CHM(t),e.oxw(2).viewTasks(o)})("onCreateFolder",function(o){return e.CHM(t),e.oxw(2).createNewFolder(o)})("onDeleteFolder",function(o){return e.CHM(t),e.oxw(2).deleteFolder(o)}),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("user",t.user)}}function W(r,a){if(1&r&&(e.ynx(0),e.TgZ(1,"h3"),e._uU(2,"Folders"),e.qZA(),e.YNc(3,B,2,1,"ng-container",1),e.YNc(4,J,1,1,"ng-template",null,3,e.W1O),e.BQk()),2&r){const t=e.MAs(5),n=e.oxw();e.xp6(3),e.Q6J("ngIf",!n.user.Folders.length)("ngIfElse",t)}}function H(r,a){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-tasks",9),e.NdJ("onCreateTodo",function(o){return e.CHM(t),e.oxw(2).createNewTask(o)})("onDeleteTodo",function(o){return e.CHM(t),e.oxw(2).deleteTodo(o)})("onEditTodoName",function(o){return e.CHM(t),e.oxw(2).editTodo(o)})("onEditTodoStatus",function(o){return e.CHM(t),e.oxw(2).editTodoStatusInDatabase(o)}),e.qZA(),e.BQk()}if(2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("todos",t.folderToInspect.Todos)}}function O(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"app-no-tasks",10),e.NdJ("onCreateTodo",function(o){return e.CHM(t),e.oxw(2).createNewTask(o)}),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("user",t.user)}}function Y(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"h3"),e._uU(1),e.qZA(),e.YNc(2,H,2,1,"ng-container",1),e.YNc(3,O,1,1,"ng-template",null,6,e.W1O),e.TgZ(5,"div",7),e.TgZ(6,"button",8),e.NdJ("click",function(){return e.CHM(t),e.oxw().showFolders()}),e._uU(7,"Go back"),e.qZA(),e.qZA()}if(2&r){const t=e.MAs(4),n=e.oxw();e.xp6(1),e.hij("Folders > ",n.folderToInspect.name,""),e.xp6(1),e.Q6J("ngIf",(null==n.folderToInspect.Todos?null:n.folderToInspect.Todos.length)>0)("ngIfElse",t)}}const Q=[{path:"",component:(()=>{class r{constructor(t,n,o){this.authService=t,this.foldersService=n,this.todosService=o,this.viewingTodos=!1,this.todos=[],this.destroy$=new b.x}get user(){return this.authService.getUser()}createNewFolder(t){this.foldersService.createFolder({users_id:this.user.id,name:t}).pipe((0,p.R)(this.destroy$)).subscribe({next:o=>{var s,i,d;200===(null===(s=null==o?void 0:o.meta)||void 0===s?void 0:s.status)||201===(null===(i=null==o?void 0:o.meta)||void 0===i?void 0:i.status)?this.setUserWithNewFolder(null===(d=null==o?void 0:o.data)||void 0===d?void 0:d.folder):(0,c.Ek)()},error:o=>(0,c.mN)()})}setUserWithNewFolder(t){const n=[...this.user.Folders,t],o=new h.n(this.user.id,this.user.email,this.user.created_at,this.user.updated_at,n,this.user.Todos);this.authService.setUser(o)}editFolder(t){var n=this;return x(function*(){const[o,s]=[t[0],t[1]],i=s,{value:d}=yield T().fire({title:"Enter the name of the folder",input:"text",inputLabel:"Folder name",inputValue:i,showCancelButton:!0,showClass:{popup:"animate__animated animate__fadeInDown"},hideClass:{popup:"animate__animated animate__fadeOutUp"},inputValidator:l=>l?l.length<3?"Name must have at lease 3 characters":void 0:"You need to write something!"});d&&n.editFolderNameInDatabase(o,d)})()}editFolderNameInDatabase(t,n){this.foldersService.editFolder(t,{name:n}).pipe((0,p.R)(this.destroy$)).subscribe({next:s=>{var i,d,l;200===(null===(i=null==s?void 0:s.meta)||void 0===i?void 0:i.status)||201===(null===(d=null==s?void 0:s.meta)||void 0===d?void 0:d.status)?this.correctEditedFolder(null===(l=null==s?void 0:s.data)||void 0===l?void 0:l.folder):(0,c.Ek)()},error:s=>console.log(s)})}correctEditedFolder(t){const n=this.user.Folders.findIndex(o=>o.id===t.id);this.user.Folders[n]=t}deleteFolder(t){T().mixin({customClass:{confirmButton:"btn btn-primary",denyButton:"btn btn-danger"},buttonsStyling:!0}).fire({title:"Are you sure you want to delete the folder?",text:"This will delete all the content inside of it",showDenyButton:!0,confirmButtonText:"Yes, proceed",denyButtonText:"No!!"}).then(o=>{o.isConfirmed&&(this.user.Folders.find(i=>i.id===t).Todos.length?this.deleteFolderAndTasksFromDatabase(t):this.deleteFolderFromDatabase(t))})}deleteFolderFromDatabase(t){this.foldersService.deleteFolder(t).pipe((0,p.R)(this.destroy$)).subscribe({next:n=>{var o;200===(null===(o=null==n?void 0:n.meta)||void 0===o?void 0:o.status)?this.rearrangeFolderArray(t):(0,c.Ek)()},error:()=>(0,c.mN)()})}deleteFolderAndTasksFromDatabase(t){this.foldersService.deleteFolderWithTasks(t).pipe((0,p.R)(this.destroy$)).subscribe({next:n=>{var o;200===(null===(o=null==n?void 0:n.meta)||void 0===o?void 0:o.status)?this.rearrangeFolderArray(t):(0,c.Ek)()},error:()=>(0,c.mN)()})}rearrangeFolderArray(t){const n=this.user.Folders.filter(s=>s.id!==t),o=new h.n(this.user.id,this.user.email,this.user.created_at,this.user.updated_at,n,this.user.Todos);this.authService.setUser(o)}viewTasks(t){this.folderToInspect=this.user.Folders.find(n=>n.id===t),this.folderToInspect.Todos||(this.folderToInspect.Todos=[]),this.viewingTodos=!0}createNewTask(t){this.todosService.createTodo(this.user.id,this.folderToInspect.id,{name:t,completed:!1}).pipe((0,p.R)(this.destroy$)).subscribe({next:o=>{var s,i;200===(null===(s=null==o?void 0:o.meta)||void 0===s?void 0:s.status)?this.setUserWithNewTodo(null===(i=null==o?void 0:o.data)||void 0===i?void 0:i.todo):(0,c.Ek)()},error:o=>(0,c.mN)()})}setUserWithNewTodo(t){const n=[...this.user.Todos,t],o=new h.n(this.user.id,this.user.email,this.user.created_at,this.user.updated_at,this.user.Folders,n);this.authService.setUser(o),o===this.authService.getUser()?this.folderToInspect.Todos.push(t):(0,c.Ek)()}editTodo(t){var n=this;return x(function*(){const[o,s]=[t[0],t[1]],i=s,{value:d}=yield T().fire({title:"Enter the name of the todo",input:"text",inputLabel:"Todo name",inputValue:i,showCancelButton:!0,showClass:{popup:"animate__animated animate__fadeInDown"},hideClass:{popup:"animate__animated animate__fadeOutUp"},inputValidator:l=>l?l.length<3?"Name must have at lease 3 characters":void 0:"You need to write something!"});d&&n.editTodoNameInDatabase(o,d)})()}editTodoNameInDatabase(t,n){var o;const s={name:n,completed:null===(o=this.folderToInspect.Todos)||void 0===o?void 0:o.find(i=>i.id=t).completed};this.todosService.editTodo(t,s).pipe((0,p.R)(this.destroy$)).subscribe({next:i=>{var d,l;200===(null===(d=null==i?void 0:i.meta)||void 0===d?void 0:d.status)?this.correctTodoArray(null===(l=null==i?void 0:i.data)||void 0===l?void 0:l.todo):(0,c.Ek)()},error:i=>(0,c.mN)()})}editTodoStatusInDatabase(t){var n;const[o,s]=[t[0],t[1]],i={name:null===(n=this.folderToInspect.Todos)||void 0===n?void 0:n.find(d=>d.id=o).name,completed:s};this.todosService.editTodo(o,i).pipe((0,p.R)(this.destroy$)).subscribe({next:d=>{var l;return 200===(null===(l=null==d?void 0:d.meta)||void 0===l?void 0:l.status)?null:(0,c.Ek)()},error:d=>(0,c.mN)()})}correctTodoArray(t){const n=this.user.Todos.findIndex(o=>o.id===t.id);this.user.Todos[n]=t,this.folderToInspect.Todos[n]=t}deleteTodo(t){T().mixin({customClass:{confirmButton:"btn btn-primary",denyButton:"btn btn-danger"},buttonsStyling:!0}).fire({title:"Are you sure you want to delete the task?",showDenyButton:!0,confirmButtonText:"Yes, proceed",denyButtonText:"No!!"}).then(o=>{o.isConfirmed&&this.deleteTodoFromDatabase(t)})}deleteTodoFromDatabase(t){this.todosService.deleteTodo(t).pipe((0,p.R)(this.destroy$)).subscribe({next:n=>{var o;200===(null===(o=null==n?void 0:n.meta)||void 0===o?void 0:o.status)?this.rearrangeTodoArray(t):(0,c.Ek)()},error:()=>(0,c.mN)()})}rearrangeTodoArray(t){var n;const o=null===(n=this.folderToInspect.Todos)||void 0===n?void 0:n.filter(i=>i.id!==t),s=new h.n(this.user.id,this.user.email,this.user.created_at,this.user.updated_at,this.user.Folders,o);this.authService.setUser(s),this.authService.getUser()===s&&(this.folderToInspect.Todos=o)}showFolders(){this.viewingTodos=!1,this.folderToInspect=null}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Z.e),e.Y36(y),e.Y36(k))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-dashboard"]],decls:4,vars:2,consts:[[1,"animate__animated","animate__fadeIn","animate__faster"],[4,"ngIf","ngIfElse"],["todos",""],["folders",""],[3,"user","onCreateFolder"],[3,"user","onEditFolder","onViewMoreItems","onCreateFolder","onDeleteFolder"],["noTodos",""],[1,"text-center"],[1,"btn","btn-primary",3,"click"],[3,"todos","onCreateTodo","onDeleteTodo","onEditTodoName","onEditTodoStatus"],[3,"user","onCreateTodo"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,W,6,2,"ng-container",1),e.YNc(2,Y,8,3,"ng-template",null,2,e.W1O),e.qZA()),2&t){const o=e.MAs(3);e.xp6(1),e.Q6J("ngIf",!n.viewingTodos)("ngIfElse",o)}},directives:[_.O5,N,I,U,$],styles:[""]}),r})()}];let R=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[v.Bz.forChild(Q)],v.Bz]}),r})(),V=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[_.ez,f.u5]]}),r})(),L=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[_.ez,R,V]]}),r})()}}]);